= Rendering based on Content Type
:toc: right
:imagesdir: media/
:sourcedir: ../src/main/resources/
:snippet: ../code-samples/code-snippets/content-type/

In this chapter you will create a new component that renders persons

== Person content type

The Headless Movie DB contains sample content, and content types.
One of these is `Person` or more specifically `com.enonic.app.hmdb:person`.

From Content Studio, you may easily find and list persons.
By selecting the JSON preview, you can also study the properties of a person:

.Sample JSON for Person
[source,JSON]
----
{
    "_id": "a8b374a2-c532-45eb-9aa1-73d1c37cd681",
    "_name": "lea-seydoux",
    "_path": "/hmdb/persons/lea-seydoux",
    "creator": "user:system:su",
    "modifier": "user:system:su",
    "createdTime": "2021-11-23T10:01:16.711Z",
    "modifiedTime": "2021-11-23T13:06:38.493Z",
    "owner": "user:system:su",
    "type": "com.enonic.app.hmdb:person",
    "displayName": "Léa Seydoux",
    "hasChildren": true,
    "language": "en",
    "valid": true,
    "childOrder": "modifiedtime DESC",
    "data": {
        "photos": "09b3af0e-6da3-4bcf-88d9-11cbe9c41283",
        "bio": "French actress Léa Seydoux was born in 1985 in Paris, France, to Valérie Schlumberger, a philanthropist, and Henri Seydoux, a businessman.",
        "dateofbirth": "1985-07-01"
    },
    "x": {},
    "page": {},
    "attachments": {},
    "publish": {
        "from": "2024-11-13T13:32:39.427Z",
        "first": "2024-11-13T13:32:39.427Z"
    },
    "workflow": {
        "state": "READY",
        "checks": {}
    }
}
----

== The Person component

To implement the rendering we need to create a new component, and accompanying data processor:

. *Create a processor*:
+
./src/main/resources/react4xp/components/content/PersonProcessor.ts
[source,TypeScript]
----
include::{snippet}PersonProcessor.ts[]
----
+
. *Add it to the dataFetcher*, with the following two lines:
+
.dataFetcher
[source,TypeScript]
----
import {personProcessor} from './components/content/PersonProcessor';

dataFetcher.addContentType('com.enonic.app.hmdb:person', {processor: personProcessor});
----
+
. *Create the Person component*, it consists of two files:
+
./src/main/resources/react4xp/components/content/Person.tsx (React component)
[source,TypeScript]
----
include::{snippet}Person.tsx[]
----
+
./src/main/resources/react4xp/components/content/Person.module.css (CSS module)
[source,CSS]
----
include::{snippet}Person.module.css[]
----
+
. *Plaec it in the component to the registry*: by adding the following two lines:

.componentRegistry
[source,TypeScript]
----
import {Person} from './components/content/Person';

componentRegistry.addContentType('com.enonic.app.hmdb:person', {View: Person}); // <1>
----
+
<1> By using `addContentType()` we are instructnig the componentRegistry to render this component when the content is of type 'com.enonic.app.hmdb:person'. 

Back in Content Studio, select a random person to see what you have made:

image:lea-seydoux.png[title="Preview of a Person Content", width=720px]

== Next

You are on a roll, next - lets have a look at <<rich-text#, Rich text handling>>.
