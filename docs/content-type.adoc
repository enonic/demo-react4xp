= Rendering based on Content Type
:toc: right
:imagesdir: media/
:sourcedir: ../src/main/resources/
:snippet: ../code-samples/code-snippets/content-type/

In this chapter you will create a new component that renders persons

== Person content type

The Headless Movie DB contains both sample content, content type definitions.
`Person` or more specifically `com.enonic.app.hmdb:person`, is one of these.

From Content Studio, you may easily find and list persons.
Click a person, and then selecting the JSON preview, which allows you to study the properties of a person:

.Sample JSON for Person
[source,JSON]
----
{
    "_id": "a8b374a2-c532-45eb-9aa1-73d1c37cd681",
    "_name": "lea-seydoux",
    "_path": "/hmdb/persons/lea-seydoux",
    "creator": "user:system:su",
    "modifier": "user:system:su",
    "createdTime": "2021-11-23T10:01:16.711Z",
    "modifiedTime": "2021-11-23T13:06:38.493Z",
    "owner": "user:system:su",
    "type": "com.enonic.app.hmdb:person",
    "displayName": "Léa Seydoux",
    "hasChildren": true,
    "language": "en",
    "valid": true,
    "childOrder": "modifiedtime DESC",
    "data": {
        "photos": "09b3af0e-6da3-4bcf-88d9-11cbe9c41283",
        "bio": "French actress Léa Seydoux was born in 1985 in Paris, France, to Valérie Schlumberger, a philanthropist, and Henri Seydoux, a businessman.",
        "dateofbirth": "1985-07-01"
    },
    "x": {},
    "page": {},
    "attachments": {},
    "publish": {
        "from": "2024-11-13T13:32:39.427Z",
        "first": "2024-11-13T13:32:39.427Z"
    },
    "workflow": {
        "state": "READY",
        "checks": {}
    }
}
----

== Person React component

To implement the rendering we need to create a new React component, and related data processor:

. *Create a data processor*:
+
./src/main/resources/react4xp/components/content/PersonProcessor.ts
[source,TypeScript]
----
include::{snippet}PersonProcessor.ts[]
----
+
. *Add it to the dataFetcher*, using the following two lines:
+
.dataFetcher
[source,TypeScript]
----
import {personProcessor} from './components/content/PersonProcessor';

dataFetcher.addContentType('com.enonic.app.hmdb:person', {processor: personProcessor});
----
+
. *Create the Person component*, it consists of two files:
+
./src/main/resources/react4xp/components/content/Person.tsx (React component)
[source,TypeScript]
----
include::{snippet}Person.tsx[]
----
+
./src/main/resources/react4xp/components/content/Person.module.css (CSS module)
[source,CSS]
----
include::{snippet}Person.module.css[]
----
+
. *Add it to the componentRegistry*: with these two lines:

.componentRegistry
[source,TypeScript]
----
import {Person} from './components/content/Person';

componentRegistry.addContentType('com.enonic.app.hmdb:person', {View: Person}); // <1>
----

Back in Content Studio, select a person item to see what you have made:

image:person.png[title="Preview of a Person", width=1346px]

== Next

You are on a roll, next - lets have a look at <<rich-text#, Rich text handling>>.
