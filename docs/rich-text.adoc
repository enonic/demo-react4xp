= Rich text
:toc: right
:imagesdir: media/
:sourcedir: ../src/main/resources/
:snippet: ../code-samples/code-snippets/

In this chapter you'll learn how to render rich text content.

== Intro

Enonic boasts a https://developer.enonic.com/docs/xp/stable/cms/schemas/input-types/htmlarea[rich text input type].
Unlike basic text fields, rich-text may contain more complex concepts such as tables, images, links and even custom components (aka macros).
Each of these typically need custom processing during rendering, in order to provide a contextually correct URLs, image sizes etc.

== Sample content

As if by magic, the sample data set contains everything we need to get going.
The `Bio` field in the person content type is what we're looking for:

image::rich-text-bio.png[title="Rich text bio field for Lea Seydoux",width=720px]

== Rich text rendering

We'll be using our existing Person component, and add support for the `Bio` field. 

Follow the steps below:

. *Update the Person processor* to include a bio prop:
+
./src/main/resources/react4xp/components/content/PersonProcessor.ts
[source,TypeScript]
----
include::react4xp/components/content/PersonProcessor.ts[]
----
+
ProcessHtml (included in React4XP) outputs a generic format that the RichText component can use later.
+
. *Update the Person component* with the following content:
+
./src/main/resources/react4xp/components/content/Person.tsx
[source,TypeScript]
----
include::react4xp/components/content/Person.tsx[]
----

 
*Et voil√†!*
And just like that we have a fully functional rich text renderer.
The page should look something like this:

image::rich-text-result.png[title="Person content rendered with rich text",width=720px]

If you have a sharp eye, you might notice there is something missing, we need to add a macro component to render factbox!

== Macro components

The HMDB dataset also includes a "Fact-Box" macro, which editors may use inside their rich-text fields. Let's add support for TODO

. *Component*
+
./src/main/resources/react4xp/components/macro/FactBox.tsx
[source,TypeScript]
----
include::{sourcedir}react4xp/components/macro/FactBox.tsx[]
----

. *Styling*
+
./src/main/resources/react4xp/components/macro/FactBox.module.css
[source,TypeScript]
----
include::{sourcedir}react4xp/components/macro/FactBox.module.css[]
----

. *Register the component*
+
./src/main/resources/react4xp/componentRegistry.tsx
[source,TypeScript]
----
include::{snippet}Rich-text/componentRegistry.tsx[]
----

. *Factbox complete!*
+
You should now see Lea Seydoux updated with the FactBox macro:
+
image::rich-text-with-macro.png[title="Person content rendered with rich text and macro",width=720px]

Sweet! next up <<pages#, pages>>.