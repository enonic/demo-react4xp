= Commons components and props
:toc: right
:imagesdir: media/
:sourcedir: ../src/main/resources/
:snippet: ../code-samples/code-snippets/

In this chapter you will add global styling and a footer component to the site

== Global CSS

To make the site more appealing, we'll need some style. By adding a global CSS file, we avoid repeating general styling for each component.

Follow the steps below:

. *Create CSS file* in the component directory:
+
.react4xp/components/globalStyles.css
[source,CSS]
----
include::../code-samples/code-snippets/common/globalStyles.css[]
----
+
. *Register the file* in App.tsx by adding the following line
+
.react4xp/entries/App.tsx
[source,TypeScript]
----
import '../components/globalStyles.css';
----

Refresh the Hello page to see the what happened:

image:hello.png[title="Hello page with styling", width=647px]


== Footer component

`App.tsx` is the common starting point for all rendering, and can be used for more than simply styling, for instance by adding a footer.

Follow the steps below to get a glorious new footer across all pages in the site.

. *Add the footer component*:
+
.react4xp/components/common/Footer.tsx
[source,TypeScript]
----
include::{sourcedir}react4xp/components/common/Footer.tsx[]
----
+
. *Add a dedicated CSS module* for the footer.
+
.react4xp/components/common/Footer.module.css
[source,CSS]
----
include::{snippet}common/Footer.module.css[]
----
+
. *Add the Footer component to App.tsx*:
+
.react4xp/entries/App.tsx
[source,TypeScript]
----
include::{snippet}common/App.tsx[]
----

We are not entirely done yet, as the Footer component requires some props, in order to work properly (pun intended).

== Static asset

To make thigs a bit more interesting, the Footer will render the React4XP logo. This means we will need a URL to a static file.

TIP: The logo already exists in `resources/assets/react4xp.svg`

The Footer is not part of the ComponentRegistry, but it can still use the dataFetcher to get props. For this case, a data processor can be registered as a `common` processor. Props from the common processor can be accessed across components.

. *Create a processor*:
+
.react4xp/components/common/CommonProcessor.ts
[source,TypeScript]
----
include::{sourcedir}react4xp/components/common/CommonProcessor.ts[]
----
+
It invokes `assetUrl()` to get the URL for the logo, and returns it as a prop.
+
. *Register the processor* in the data fetcher:
+
.react4xp/dataFetcher.ts
[source,TypeScript]
----
include::{snippet}common/dataFetcher.ts[]
----
+
Using `addCommon` ensures this will be executed for every rendering request.
+
NOTE: Be careful to only get the props you need, or else this may slow down rendering of all pages.

image:hello.png[title="Hello page with styling", width=647px]

*Sweet!*
You now have a stylish site with a footer component on all pages. The footer also brings it own CSS via a CSS module.

== Next

You are on a roll, in the next chapter we'll be <<render-content#, rendering content>>.
