= Rendering a person
:toc: right
:imagesdir: media/

In this chapter you will add a new component that renders persons

== Person content type

The Headless Movie DB contains sample content, and content types. One of these is `Person`. From Content Studio, you may find and list persons. By selecting the JSON preview, you can also study the properties of a person:

.Person JSON
[source,JSON]
----
{
    "_id": "a8b374a2-c532-45eb-9aa1-73d1c37cd681",
    "_name": "lea-seydoux",
    "_path": "/hmdb/persons/lea-seydoux",
    "creator": "user:system:su",
    "modifier": "user:system:su",
    "createdTime": "2021-11-23T10:01:16.711Z",
    "modifiedTime": "2021-11-23T13:06:38.493Z",
    "owner": "user:system:su",
    "type": "com.enonic.app.hmdb:person",
    "displayName": "Léa Seydoux",
    "hasChildren": true,
    "language": "en",
    "valid": true,
    "childOrder": "modifiedtime DESC",
    "data": {
        "photos": "09b3af0e-6da3-4bcf-88d9-11cbe9c41283",
        "bio": "French actress Léa Seydoux was born in 1985 in Paris, France, to Valérie Schlumberger, a philanthropist, and Henri Seydoux, a businessman.",
        "dateofbirth": "1985-07-01"
    },
    "x": {},
    "page": {},
    "attachments": {},
    "publish": {
        "from": "2024-11-13T13:32:39.427Z",
        "first": "2024-11-13T13:32:39.427Z"
    },
    "workflow": {
        "state": "READY",
        "checks": {}
    }
}
----

To implement the rendering we need to add code that will perform a two-step operation:

== Fetch the data

. Create a data fetcher
+
./src/main/resources/react4xp/components/PersonProcessor.ts
[source,TypeScript]
----
include::../src/main/resources/react4xp/components/PersonProcessor.ts[]
----
+
. Then *add it to the dataFetcher*, with these lines:
+
.dataFetcher 
[source,TypeScript]
----
import { personProcessor } from './components/PersonProcessor';

dataFetcher.addContentType('com.enonic.app.hmdb:person', { processor: personProcessor });
----

We are now able to fetch the Person data, next up we need to render it. 

== Register component

The component consists of two files:

./src/main/resources/react4xp/components/Person.tsx (React component)
[source,TypeScript]
----
include::../src/main/resources/react4xp/components/Person.tsx[]
----
+
./src/main/resources/react4xp/components/Person.module.css (CSS module)
[source,CSS]
----
include::../src/main/resources/react4xp/components/Person.module.css[]
----
+
Once they are created *register the component in the componentRegistry*, by adding the following lines:
+
.componentRegistry 
[source,TypeScript]
----
import { Person } from './components/Person';

componentRegistry.addContentType('com.enonic.app.hmdb:person', { View: Person });
----

== Result

Back in Content Studio, select a random person to see the glorious result.

// image:lea-seydoux.png[title="Preview of a Person Content", width=720px]

== Next

You are on a roll, next - lets look into how we may pass editorial content to the component via <<props#, props>>.
