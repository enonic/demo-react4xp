= Custom pages
:toc: right
:imagesdir: media/
:sourcedir: ../src/main/resources/
:snippet: ../code-samples/code-snippets/

Structured content is nice. Letting editors compose pages adds another dimention.


== Intro

By defining a page, editors may drag'n drop cms components into the page, visually.

== Set up page rendering

Content types are required before an editor can create content. Similarly, pages components must be defined before they can create pages.

. *Add the component files*:
+
./src/main/resources/react4xp/components/page/Page.tsx
[source,TypeScript]
----
include::{sourcedir}react4xp/components/page/Page.tsx[]
----
+
./src/main/resources/react4xp/components/page/PageProcessor.ts
[source,TypeScript]
----
include::{sourcedir}react4xp/components/page/PageProcessor.ts[]
----
+
./src/main/resources/react4xp/components/page/Page.module.css
[source,CSS]
----
include::{sourcedir}react4xp/components/page/Page.module.css[]
----

. *Register the data processor*:
+
Your dataFetcher should now look like this:
+
./src/main/resources/react4xp/dataFetcher.ts
[source,TypeScript]
----
include::{snippet}pages/dataFetcher.ts[]
----
+
. *Update the componentRegistry*
+
./src/main/resources/componentRegistry.tsx
[source,TypeScript]
----
include::{snippet}pages/componentRegistry.tsx[]
----
+
NOTE: We disabled the "Hello" component in both files, as it is no longer needed.



== Working with pages

The HMDB dataset already contains sample content with pages. By reloading the front-page, you should immediately see something like this:

image:r4xp-demo.png[title="First page rendering with text component",width=1390px]

By editing the front page, you will see that a page with a single region `main`, containing a single Text Component.

image:page.png[title="Editing front page",width=1389px]

=== The Text Component

Enonic provides a standard `Rich text component` that can be placed on pages. React4XP implements a default rendering of this special component.

By selecting the component, in the list, or directly on the page you can start editing it.

image:text-component.png[title="Editing the text component",width=1390px]

=== Movies

Pages may also contain custom components. Try visiting the `Movies` page, and you will see that some components are not rendering properly. Content Studio has a built-in fallback handling for thse, so you can interact with them, even if they are not yet rendering.

image:TODO.png[title="Editing movies",width=1390px]

We'll deal with some of these in the <<parts#,parts>> chapter.